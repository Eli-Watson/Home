<!-- This is the HTML code for my personal website "home" By Eli Watson -->

<html>
<head>
    <title>Homepage</title>
    <link rel="icon" type="image/x-icon" href="/Home/images/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/Home/CSS/Index.css">
    <script src="/Home/JS/DarkMode.js"></script>
    <script src="/Home/JS/NavHide.js"></script>
    <script src="/Home/JS/Holiday.js"></script>
    <script src="/Home/JS/Nav.js"></script>
    <script src="/Home/JS/DailyWord.js"></script>
</head>
<body>

<dialog id="DarkMode">
    <p>Choose to change Color of the site.</p>
    <button onclick="changeToBlack()">Black Background</button>
    <button onclick="changeToWhite()">White Background</button>
    <button onclick="DarkMode.close()">Close</button>
</dialog>
 
<header>
    <h1>Eli Watson Home</h1>
    <button class="color" onclick="DarkMode.showModal()">Change Color</button>
    <button id="toggleButton" onclick="toggleNavBar()">Toggle Navigation Bar</button> 
</header>

<div id="Nav"></div>

<section>
        <p>Hello, this website is where I will post things about me, what I'm working on and other random stuff. Feel free to explore!</p>
        <div id="holidayInfo" class="holiday">
            <p>Loading...</p>
        </div>
        <div class="wordOfTheDay">
            <h1 class ="wordH">Word of the Day:</h1>
            <div id="word" class="word"></div>
            <p id="definition" class ="wordp"></p>
        </div>
        <div id="thought-container" class="thought-container">
            <h1 class="thoughtsH">Shower Thought of the Day</h1>
            <p id="thought-text" class="thoughtsP">Loading thought...</p>
        </div>
        
</section>
 <footer>
    <p>2024 Eli Watson All Rights Reserved</p> <p> Some Websites I like.</p>
    <a href="/Home/Pages/Links" target="_self">Links</a>
    </div>
</footer>
</body> 
<script>
    // Function to fetch shower thoughts from JSON file
async function fetchShowerThoughts() {
    try {
        const response = await fetch('shower_thoughts.json');
        if (!response.ok) {
            throw new Error('Failed to fetch shower thoughts');
        }
        return await response.json();
    } catch (error) {
        console.error('Error fetching shower thoughts:', error);
        return [];
    }
}

// Function to generate and display a random thought
async function displayDailyThought() {
    const thoughtContainer = document.getElementById('thought-text');
    
    // Fetch shower thoughts from JSON file
    const showerThoughts = await fetchShowerThoughts();

    if (showerThoughts.length > 0) {
        // Get today's date in YYYY-MM-DD format
        const today = new Date().toISOString().slice(0, 10);

        // Use a stable method to get an index based on the date
        const thoughtIndex = Math.abs(hashCode(today)) % showerThoughts.length;

        thoughtContainer.textContent = showerThoughts[thoughtIndex];
    } else {
        thoughtContainer.textContent = 'No thoughts available.';
    }
}

// Hash function to generate a stable index based on date string
function hashCode(str) {
    let hash = 0;
    if (str.length == 0) return hash;
    for (let i = 0; i < str.length; i++) {
        let char = str.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash; // Convert to 32bit integer
    }
    return hash;
}

// Initialize with today's thought on page load
displayDailyThought();

</script>
</html>
